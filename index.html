<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Secret Button</title>
  <style>
    body {
      margin: 0;
      background: #111;
      color: white;
      overflow: hidden;
      font-family: sans-serif;
    }

    #question {
      position: absolute;
      top: 10px;
      left: 10px;
      opacity: 0.1;
      cursor: pointer;
      z-index: 999;
    }

    #egg {
      position: absolute;
      top: 40px;
      left: 40px;
      background: #222;
      padding: 10px;
      border-radius: 10px;
      border: 2px solid white;
      display: none;
    }

    #door {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 300px;
      height: auto;
      cursor: pointer;
      transition: opacity 0.5s;
    }

    #carpet {
      position: absolute;
      bottom: 20px;
      right: 20px;
      width: 100px;
      cursor: pointer;
      transition: all 0.5s;
    }

    #key {
      position: absolute;
      width: 50px;
      display: none;
      pointer-events: none;
    }

    #btn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      padding: 20px 40px;
      font-size: 24px;
      background: #f00;
      color: white;
      border: 2px solid white;
      border-radius: 12px;
      opacity: 0;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    #btn:hover {
      box-shadow: 0 0 10px white;
    }

    .shuffleRow {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(1.2);
      display: flex;
      gap: 20px;
      display: none;
    }

    .shuffleImg {
      width: 150px;
      height: 150px;
      border: 2px solid black;
      cursor: pointer;
      animation: glint 2s infinite;
      opacity: 0;
    }

    @keyframes glint {
      0% { box-shadow: 0 0 0 white; }
      50% { box-shadow: 0 0 10px white; }
      100% { box-shadow: 0 0 0 white; }
    }

    #noteText {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 20px;
      text-align: center;
      display: none;
      opacity: 0;
    }

    #youFound {
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 24px;
      opacity: 0;
      transition: opacity 1s;
    }

    #jeffImage {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: none;
      z-index: 1000;
    }

    #cooldownTimer {
      position: absolute;
      bottom: 10px;
      left: 10px;
      font-size: 18px;
      background: rgba(255, 0, 0, 0.3);
      padding: 5px 10px;
      border-radius: 6px;
      display: none;
    }
  </style>
</head>
<body>
  <div id="question">?</div>
  <div id="egg">hi you found the easter egg ðŸ¥š</div>
  <img id="door" src="door.png" />
  <img id="carpet" src="carpet.png" />
  <img id="key" src="key.png" />
  <div id="noteText">The button is behind one of them...<br>Choose wisely, or wait for eternity... (not really)</div>
  <div class="shuffleRow" id="shuffleImagesRow">
    <img class="shuffleImg" src="image1.png" data-index="0" />
    <img class="shuffleImg" src="image2.png" data-index="1" />
    <img class="shuffleImg" src="image3.png" data-index="2" />
  </div>
  <button id="btn">Secret Buton.. ðŸ¤«ðŸ¤«</button>
  <div id="youFound">you found me!</div>
  <div id="cooldownTimer"></div>
  <audio id="sound" src="sound.mp3"></audio>
  <audio id="concrete" src="concrete.mp3"></audio>
  <audio id="creak" src="creak.mp3"></audio>
  <audio id="knock" src="knock.mp3"></audio>
  <audio id="jeff" src="jeff.mp3"></audio>
  <audio id="buttonSound" src="button.mp3"></audio>
  <img id="jeffImage" src="jefff.png" />

  <script>
    const egg = document.getElementById('egg');
    document.getElementById('question').addEventListener('click', () => {
      egg.style.display = 'block';
    });

    const btn = document.getElementById('btn');
    const sound = document.getElementById('sound');
    const concrete = document.getElementById('concrete');
    const creak = document.getElementById('creak');
    const knock = document.getElementById('knock');
    const jeff = document.getElementById('jeff');
    const key = document.getElementById('key');
    const carpet = document.getElementById('carpet');
    const door = document.getElementById('door');
    const shuffleImagesRow = document.getElementById('shuffleImagesRow');
    const shuffleImgs = document.querySelectorAll('.shuffleImg');
    const noteText = document.getElementById('noteText');
    const jeffImage = document.getElementById('jeffImage');
    const youFound = document.getElementById('youFound');
    const buttonSound = document.getElementById('buttonSound');
    const cooldownTimer = document.getElementById('cooldownTimer');
    let correctIndex = Math.floor(Math.random() * 3);
    let clicks = 0;
    let holding = false;
    let cooldownEnd = 0;
    let cooldownInterval = null;

    carpet.addEventListener('click', () => {
      clicks++;
      carpet.style.transform = 'rotate(5deg)';
      setTimeout(() => carpet.style.transform = 'rotate(-5deg)', 100);
      setTimeout(() => carpet.style.transform = 'rotate(0deg)', 200);
      if (clicks >= 3) {
        concrete.currentTime = 3;
        concrete.play();
        carpet.style.bottom = '70px';
        setTimeout(() => carpet.style.bottom = '20px', 2000);
        key.style.left = (carpet.offsetLeft + 25) + 'px';
        key.style.top = (carpet.offsetTop - 50) + 'px';
        key.style.display = 'block';
      }
    });

    key.addEventListener('mousedown', () => holding = true);
    window.addEventListener('mouseup', () => holding = false);
    window.addEventListener('mousemove', (e) => {
      if (holding) {
        key.style.left = e.pageX + 'px';
        key.style.top = e.pageY + 'px';
      }
    });

    door.addEventListener('click', () => {
      knock.currentTime = 0;
      knock.play();
      if (Math.random() < 1/30) {
        jeffImage.style.display = 'block';
        jeff.currentTime = 5;
        jeff.play();
        setTimeout(() => {
          jeff.pause();
          jeff.currentTime = 0;
          jeffImage.style.display = 'none';
        }, 2000);
      }
    });

    key.addEventListener('mouseup', () => {
      if (holding) {
        creak.currentTime = 0.5;
        creak.play();
        door.style.opacity = '0';
        setTimeout(() => {
          shuffleImagesRow.style.display = 'flex';
          noteText.style.display = 'block';
          setTimeout(() => noteText.style.opacity = '1', 50);
          shuffleImgs.forEach((img, i) => {
            setTimeout(() => img.style.opacity = '1', i * 500);
          });
        }, 500);
      }
    });

    function updateCooldownDisplay() {
      const timeLeft = Math.ceil((cooldownEnd - Date.now()) / 1000);
      if (timeLeft > 0) {
        cooldownTimer.style.display = 'block';
        cooldownTimer.textContent = `Try again in ${timeLeft}s`;
      } else {
        cooldownTimer.style.display = 'none';
        clearInterval(cooldownInterval);
      }
    }

    shuffleImgs.forEach(img => {
      img.addEventListener('click', (e) => {
        if (Date.now() < cooldownEnd) return;
        const selected = parseInt(e.target.dataset.index);
        if (selected === correctIndex) {
          shuffleImgs.forEach(i => i.style.opacity = '0');
          btn.style.transform = 'translate(-50%, -50%) scale(1)';
          btn.style.opacity = '1';
          youFound.style.opacity = '1';
          setTimeout(() => youFound.style.opacity = '0', 1000);
        } else {
          cooldownEnd = Date.now() + 30000;
          updateCooldownDisplay();
          cooldownInterval = setInterval(updateCooldownDisplay, 1000);
        }
      });
    });

    btn.addEventListener('click', () => {
      sound.currentTime = 1;
      sound.play();
      buttonSound.currentTime = 0;
      buttonSound.play();
    });
  </script>
</body>
</html>
